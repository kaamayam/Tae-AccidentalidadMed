shiny::runApp()
runApp()
runApp()
faithful
library(ggplot2)
library(tidyverse)
library(lubridate)
library(bsts)
datos<- readRDS(file = "bases_datos/datos.rds")
holidays_fecha<-readRDS(file = "bases_datos/Holidays.rds") %>% data.frame()
conteos <- datos %>% group_by(FECHA_ACCIDENTE, CLASE_ACCIDENTE=as.factor(CLASE_ACCIDENTE)) %>%
count() %>% data.frame()
setwd("~/Downloads/Tae-AccidentalidadMed")
library(ggplot2)
library(tidyverse)
library(lubridate)
library(bsts)
datos<- readRDS(file = "bases_datos/datos.rds")
holidays_fecha<-readRDS(file = "bases_datos/Holidays.rds") %>% data.frame()
conteos <- datos %>% group_by(FECHA_ACCIDENTE, CLASE_ACCIDENTE=as.factor(CLASE_ACCIDENTE)) %>%
count() %>% data.frame()
datos
View(datos)
conteos <- datos %>% group_by(FECHA_ACCIDENTE, CLASE_ACCIDENTE=as.factor(CLASE_ACCIDENTE)) %>%
count() %>% data.frame()
View(conteos)
ggplot(data = conteos, mapping = aes(x=FECHA_ACCIDENTE, y =n)) %>% geom_point()
library(ggplot2)
library(tidyverse)
library(lubridate)
library(bsts)
ggplot(data = conteos, mapping = aes(x=FECHA_ACCIDENTE, y =n)) %>% geom_point()
ggplot(data = conteos, mapping = aes(x=FECHA_ACCIDENTE, y =n)) + geom_point()
ggplot(data = conteos, mapping = aes(x=FECHA_ACCIDENTE, y =n)) + geom_point() %>% facet_grid(CLASE_ACCIDENTE~.)
ggplot(data = conteos, mapping = aes(x=FECHA_ACCIDENTE, y =n)) + geom_point() = facet_grid(CLASE_ACCIDENTE~.)
ggplot(data = conteos, mapping = aes(x=FECHA_ACCIDENTE, y =n)) + geom_point() + facet_grid(CLASE_ACCIDENTE~.)
ggplot(data = conteos, mapping = aes(x=FECHA_ACCIDENTE, y =n)) + geom_point(mapping = aes(color=CLASE_ACCIDENTE)) +
facet_grid(CLASE_ACCIDENTE~.)
ggplot(data = conteos, mapping = aes(x=FECHA_ACCIDENTE, y =log(n)) + geom_point(mapping = aes(color=CLASE_ACCIDENTE)) +
ggplot(data = conteos, mapping = aes(x=FECHA_ACCIDENTE, y =log(n))) + geom_point(mapping = aes(color=CLASE_ACCIDENTE)) +
facet_grid(CLASE_ACCIDENTE~.)
ggplot(data = conteos, mapping = aes(x=FECHA_ACCIDENTE, y =log(n))) + geom_point(mapping = aes(color=CLASE_ACCIDENTE)) +
facet_grid(CLASE_ACCIDENTE~.)
ggplot(data = conteos, mapping = aes(x=FECHA_ACCIDENTE, y =log(n))) + geom_point(mapping = aes(color=CLASE_ACCIDENTE)) +
facet_grid(CLASE_ACCIDENTE~.)
ggplot(data = conteos, mapping = aes(x=FECHA_ACCIDENTE, y =log(n))) + geom_point(mapping = aes(color=CLASE_ACCIDENTE=='atropello'))
ggplot(data = conteos, mapping = aes(x=FECHA_ACCIDENTE, y =log(n))) + geom_point(mapping = aes(color=CLASE_ACCIDENTE[CLASE_ACCIDENTE=='atropello']))
ggplot(data = conteos, mapping = aes(x=FECHA_ACCIDENTE, y =log(n))) +
geom_point(mapping = aes(color=CLASE_ACCIDENTE[CLASE_ACCIDENTE=='atropello']))
ggplot(data = conteos, mapping = aes(x=FECHA_ACCIDENTE, y =log(n))) +
geom_point(mapping = aes(color=conteos[CLASE_ACCIDENTE=='atropello']))
ggplot(data = conteos, mapping = aes(x=FECHA_ACCIDENTE, y =log(n))) +
geom_point(mapping = aes(color=conteos[CLASE_ACCIDENTE=='atropello']))
ggplot(data = conteos, mapping = aes(x=FECHA_ACCIDENTE, y =log(n))) +
geom_point(mapping = aes(color=conteos[CLASE_ACCIDENTE=='atropello',]))
ggplot(data = conteos, mapping = aes(x=FECHA_ACCIDENTE, y =log(n))) +
geom_point(mapping = aes(color=conteos[,CLASE_ACCIDENTE=='atropello']))
ggplot(data = auto, aes(x = FECHA_ACCIDENTE, y =n)) + geom_point(alpha = 1/2) +
geom_smooth(method = lm, col="blue")
ggplot(data = conteo, aes(x = FECHA_ACCIDENTE, y =n)) + geom_point(alpha = 1/2) +
geom_smooth(method = lm, col="blue")
ggplot(data = conteos, aes(x = FECHA_ACCIDENTE, y =n)) + geom_point(alpha = 1/2) +
geom_smooth(method = lm, col="blue")
ggplot(data = conteos[,CLASE_ACCIDENTE=='otro'], aes(x = FECHA_ACCIDENTE, y =n)) + geom_point(alpha = 1/2) +
geom_smooth(method = lm, col="blue")
ggplot(data = conteos[,conteos$CLASE_ACCIDENTE=='otro'], aes(x = FECHA_ACCIDENTE, y =n)) + geom_point(alpha = 1/2) +
geom_smooth(method = lm, col="blue")
ggplot(data = conteos[,conteos$CLASE_ACCIDENTE=='atropello'], aes(x = FECHA_ACCIDENTE, y =n)) + geom_point(alpha = 1/2) +
geom_smooth(method = lm, col="blue")
ggplot(data = conteos[conteos$CLASE_ACCIDENTE=='atropello',], aes(x = FECHA_ACCIDENTE, y =n)) + geom_point(alpha = 1/2) +
geom_smooth(method = lm, col="blue")
setwd("~/Downloads/Tae-AccidentalidadMed/app prueba/Prueba")
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
holidays_fecha<-readRDS(file = "../bases_datos/Holidays.rds") %>% data.frame()
setwd("~/Downloads/Tae-AccidentalidadMed/app prueba/Prueba")
runApp()
# bases de datos
datos<- readRDS(file = "../../bases_datos/datos.rds")
holidays_fecha<-readRDS(file = "../../bases_datos/Holidays.rds") %>% data.frame()
conteos <- datos %>% group_by(FECHA_ACCIDENTE, CLASE_ACCIDENTE=as.factor(CLASE_ACCIDENTE)) %>%
count() %>% data.frame()
levels(conteos$CLASE_ACCIDENTE)
runApp()
ggplot(data = conteos[conteos$CLASE_ACCIDENTE==output$selector,], aes(x = FECHA_ACCIDENTE, y =n)) + geom_point(alpha = 1/2) +
geom_smooth(method = lm, col="blue")
runApp()
runApp()
shiny::runApp()
runApp()
shiny::runApp()
install.packages('rsconnect')
install.packages("rsconnect")
library(rsconnect)
rsconnect::deployApp('path/to/your/app')
setwd("~/Downloads/Tae-AccidentalidadMed/app prueba/Prueba")
shiny::runApp()
library(rsconnect)
runApp()
runApp()
setwd("/Volumes/GoogleDrive/Shared drives/National university of Colombia/TAE/TAE_archivos/Tarea1_tae")
a<-readRDS(file = "conteos.rds")
datos<- readRDS(file = "bases_datos/datos.rds")
View(datos)
names(datos)
conteos <- datos %>% group_by(FECHA_ACCIDENTE, CLASE_ACCIDENTE=as.factor(CLASE_ACCIDENTE),BARRIO,as.factor(COMUNA)) %>%
count() %>% data.frame()
View(conteos)
conteos <- datos %>% group_by(FECHA_ACCIDENTE, CLASE_ACCIDENTE=as.factor(CLASE_ACCIDENTE),BARRIO,COMUNA=as.factor(COMUNA)) %>%
count() %>% data.frame()
barrios_med=readOGR("../Barrios de Medellín/Barrio_Vereda.shp",layer="Barrio_Vereda")
library(rgdal)
library(leaflet)
barrios_med=readOGR("../Barrios de Medellín/Barrio_Vereda.shp",layer="Barrio_Vereda")
View(barrios_med)
print(barrios_med@data$NOMBRE)
barrios_med<-stri_trans_general(barrios_med,"Latin-ASCII")
library(stringi) #QUITAR TILDES
library(stringi)
barrios_med<-stri_trans_general(barrios_med,"Latin-ASCII")
class(barrios_med)
m=leaflet(barrios_med)
m=addTiles(m)
m
barrios_med
barrios_med@data
barrios_med@data$NOMBRE
barrios_med@data$NOMBRE %>% mutate(NOMBRE = tolower(barrios_med@data$NOMBRE))
tolower(barrios_med@data$NOMBRE)
stri_trans_general(barrios_med@data$NOMBRE,"Latin-ASCII")
barrios_med@data$NOMBRE
barrios_med@data$NOMBRE<-tolower(barrios_med@data$NOMBRE)
barrios_med@data$NOMBRE<-stri_trans_general(barrios_med@data$NOMBRE,"Latin-ASCII")
barrios_med@data$NOMBRE<-gsub(x = barrios_med@data$NOMBRE,pattern = "ñ",replacement = "n")
barrios_med@data$NOMBRE
m=leaflet(barrios_med)
m=addPolygons(m,popup=nombres_barrios)
m=addTiles(m)
m
m=addPolygons(m,popup=nombres_barrios)
nombres_barrios<-barrios_med@data$NOMBRE
m=addPolygons(m,popup=barrios_med@data$NOMBRE)
m=addTiles(m)
m
m=addTiles(c(m,conteos$n))
m=addTiles(conteos$n)
conteos$n
barrios_med@data
mapview(barrios_med)
library(mapview)
install.packages("mapview")
library(mapview)
mapview(barrios_med)
View(conteos)
View(barrios_med)
View(datos)
barrios_med@data
full_join(barrios_med@data, conteos, by= c("NOMBRE" = "BARRIO"))
M<-full_join(barrios_med@data, conteos, by= c("NOMBRE" = "BARRIO"))
mapview(M)
barrios_med@data <- full_join(barrios_med@data, conteos, by= c("NOMBRE" = "BARRIO"))
mapview(barrios_med)
barrios_med@data
mapview(barrios_med[FECHA_ACCIDENTE=='2014-07-06',])
barrios_med@data[FECHA_ACCIDENTE=='2014-07-06',]
names
names(barrios_med@data)
barrios_med@data[barrios_med@data$FECHA_ACCIDENTE=='2014-07-06',]
barrios_med@data <- left_join(barrios_med@data, conteos, by= c("NOMBRE" = "BARRIO"))
left_join(barrios_med@data, conteos, by= c("NOMBRE" = "BARRIO"))
library(mapview)
library(rgdal)
library(leaflet)
library(tidyverse)
left_join(barrios_med@data, conteos, by= c("NOMBRE" = "BARRIO"))
View(barrios_med)
barrios_med@data
is.na(barrios_med@data)
sum(is.na(barrios_med@data))
left_join(barrios_med@data, conteos, by= c("NOMBRE" = "BARRIO"))
full_join(barrios_med@data, conteos, by= c("NOMBRE" = "BARRIO"))
